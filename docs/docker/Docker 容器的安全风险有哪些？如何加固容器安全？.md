容器逃逸
攻击者利用内核漏洞或配置错误从容其中突破到宿主机获得更高权限，常见原因由挂载敏感目录（如/,/proc）、使用--privileged模式、共享命名空间等

镜像漏洞
使用含有已知漏洞的基础镜像或第三方软件包（如log4j、heartbleed等）、使用未经验证的镜像

不安全的默认配置
容器默认以root用户运行、默认的桥接网络暴露服务端口、为限制资源使用收到DoS攻击

敏感信息泄露
在镜像中硬编码密码、密码、证书等敏感信息、日志中包含敏感信息

权限过大
容器拥有不必要的linux能力，如CAP_SYS_ADMIN、使用--privileged启动容器

网络攻击面扩大
容器间通信未隔离，横向移动风险高

## 安全措施

最小化基础镜像
优先选择distroless、alpine或官方维护的精简镜像
减少攻击面、避免安装非必要软件包

定期扫描镜像漏洞：使用工具如Trivy、Clair、Docker Scout、Snyk

以非root用户运行容器：在Dockerfile中使用USER指令指定非特权用户

限制容器能力，移除不必要的Linux capabilities，避免使用--privileged

使用--read-only挂载根文件系统，对需要写入的目录使用tmpfs

避免挂载敏感宿主机路径，禁止挂载/、/etc、/proc、/sys等关键目录

启用SELinux等限制系统调用

网络隔离与策略：使用自定义Docker网络，避免默认桥接网络，限制容器对外暴露的端口

不要在镜像中硬编码敏感信息

使用可信的、官方镜像